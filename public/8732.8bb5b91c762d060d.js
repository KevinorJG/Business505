"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8732],{8732:(O,p,c)=>{c.r(p),c.d(p,{BusinessPageModule:()=>M});var f=c(6814),l=c(95),o=c(1024),m=c(2229),h=c(5861),b=c(3519),d=c.n(b),e=c(5879),_=c(3258),Z=c(4490);let P=(()=>{var n;class s{constructor(t,i,u,a){this.formBuilder=t,this.fbs=i,this.imgService=u,this.modalCtrl=a,this.function=u,this.productForm=t.group({name:["",l.kI.required],price:["",l.kI.required],image:[null,l.kI.required]})}_processMessage(){d().fire({title:"Subiendo...",allowOutsideClick:!1,allowEscapeKey:!1,heightAuto:!1,didOpen:()=>{d().showLoading()}})}ngOnInit(){}close(){this.function.dismiss(),this.modalCtrl.dismiss()}onClick(){var t;this._processMessage(),this.fbs.uploadImage(null===(t=this.imgService)||void 0===t?void 0:t.file).subscribe({next:i=>{const u={image:i,name:this.productForm.get("name").value,price:this.productForm.get("price").value};this.objectBusiness.products||(this.objectBusiness.products=[]),this.objectBusiness.products.push(u),this.fbs.AddProduct(this.objectBusiness).then(()=>{d().close(),d().fire({icon:"success",title:"Informacion subida correctamente",heightAuto:!1,didClose:()=>{var a;null===(a=this.function)||void 0===a||a.dismiss(),this.modalCtrl.dismiss()}})}).catch(a=>{console.error("Error al agregar el negocio:",a)})}})}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(l.qu),e.Y36(_.O),e.Y36(Z.A),e.Y36(o.IN))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-product"]],inputs:{objectBusiness:"objectBusiness"},decls:36,vars:6,consts:[["slot","start"],[3,"click"],["slot","icon-only","name","arrow-back"],[3,"fullscreen"],[3,"formGroup"],["fixed",""],["size","12","size-md","6","size-lg","4"],[3,"src"],[1,"card-overlay"],["type","file","accept","image/*","formControlName","image",2,"display","none",3,"change"],["fileInput",""],["size","12","size-md","6","size-lg","8"],["size","12"],["fill","solid"],["position","floating"],["type","text","counterFormatter","counterFormatter","maxlength","19","formControlName","name"],["type","text","counterFormatter","counterFormatter","maxlength","19","formControlName","price"],["expand","block","shape","round",3,"disabled","color","click"]],template:function(t,i){if(1&t){const u=e.EpF();e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),e.NdJ("click",function(){return i.close()}),e.TgZ(4,"ion-icon",2),e._uU(5,"Regresar"),e.qZA()()(),e.TgZ(6,"ion-title"),e._uU(7,"Agregar producto"),e.qZA()()(),e.TgZ(8,"ion-content",3)(9,"form",4)(10,"ion-grid",5)(11,"ion-row")(12,"ion-col",6)(13,"ion-card",1),e.NdJ("click",function(){e.CHM(u);const g=e.MAs(18);return e.KtG(g.click())}),e._UZ(14,"ion-img",7),e.TgZ(15,"div",8),e._uU(16),e.qZA(),e.TgZ(17,"input",9,10),e.NdJ("change",function(g){return i.function.processImage(g)}),e.qZA()()(),e.TgZ(19,"ion-col",11)(20,"ion-row")(21,"ion-col",12)(22,"ion-item",13)(23,"ion-label",14),e._uU(24,"Nombre"),e.qZA(),e._UZ(25,"ion-input",15),e.qZA()(),e._UZ(26,"ion-col",12),e.TgZ(27,"ion-col",12)(28,"ion-item",13)(29,"ion-label",14),e._uU(30,"Precio base"),e.qZA(),e._UZ(31,"ion-input",16),e.qZA()()()()(),e._UZ(32,"ion-col",12),e.TgZ(33,"ion-col",12)(34,"ion-button",17),e.NdJ("click",function(){return i.onClick()}),e._uU(35," Guardar "),e.qZA()()()()()}2&t&&(e.xp6(8),e.Q6J("fullscreen",!0),e.xp6(1),e.Q6J("formGroup",i.productForm),e.xp6(5),e.Q6J("src",i.function.getProcessedImage()?i.function.getProcessedImage():"https://cdn3d.iconscout.com/3d/premium/thumb/product-5806313-4863042.png"),e.xp6(2),e.hij(" ",i.function.getProcessedImage()?"Cambiar imagen":"Agregar una imagen"," "),e.xp6(18),e.Q6J("disabled",!i.productForm.valid)("color","success"))},dependencies:[o.YG,o.Sm,o.PM,o.wI,o.W2,o.jY,o.Gu,o.gu,o.Xz,o.pK,o.Ie,o.Q$,o.Nd,o.wd,o.sr,o.j9,l._Y,l.Fj,l.JJ,l.JL,l.nD,l.sg,l.u],styles:["ion-card[_ngcontent-%COMP%]{position:relative}ion-card[_ngcontent-%COMP%]:hover{cursor:pointer}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00000080;color:#fff;padding:10px;text-align:center;border-radius:5px}.card-overlay[_ngcontent-%COMP%]:hover{display:inline}"]}),s})();function v(n,s){if(1&n&&(e.TgZ(0,"ion-item"),e._UZ(1,"ion-icon",19),e.TgZ(2,"ion-label"),e._uU(3),e.qZA(),e.TgZ(4,"ion-label",20),e._uU(5),e.qZA()()),2&n){const r=s.$implicit;e.xp6(1),e.Q6J("name","logo-"+r.name),e.xp6(2),e.Oqu(r.name),e.xp6(2),e.Oqu(r.access)}}function C(n,s){if(1&n&&(e.TgZ(0,"ion-col",21)(1,"ion-card"),e._UZ(2,"ion-img",8),e.qZA()()),2&n){const r=s.$implicit;e.xp6(2),e.Q6J("src",r.image)}}const A=[{path:"",component:(()=>{var n;class s{constructor(t,i,u){this.route=t,this.modalController=i,this.navCtrl=u,this.route.queryParams.subscribe(a=>{this.business=JSON.parse(a.data)})}ngOnInit(){}addProduct(){var t=this;return(0,h.Z)(function*(){(yield t.modalController.create({component:P,componentProps:{objectBusiness:t.business}})).present()})()}close(){this.modalController.dismiss()}handleRefresh(t){setTimeout(()=>{t.target.complete()},2e3)}}return(n=s).\u0275fac=function(t){return new(t||n)(e.Y36(m.gz),e.Y36(o.IN),e.Y36(o.SH))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-business"]],decls:35,vars:9,consts:[[3,"translucent"],["slot","start"],["slot","start",3,"click"],["slot","icon-only","name","arrow-back"],[3,"fullscreen"],["slot","fixed",3,"ionRefresh"],["fixed",""],["size","12","size-md","6","size-lg","4"],[3,"src"],["size","12","size-md","6","size-lg","8"],["size","12"],["fill","solid"],["type","text","label","Nombre del comercio","labelPlacement","stacked",3,"value"],["label","Direccion","labelPlacement","stacked","rows","6",3,"value"],[4,"ngFor","ngForOf"],["size","6","sizeSm","3",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end"],[3,"click"],[3,"name"],["slot","start",3,"name"],["slot","end"],["size","6","sizeSm","3"]],template:function(t,i){1&t&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1)(3,"ion-button",2),e.NdJ("click",function(){return i.navCtrl.back()}),e.TgZ(4,"ion-icon",3),e._uU(5,"Regresar"),e.qZA()()(),e.TgZ(6,"ion-title"),e._uU(7),e.qZA()()(),e.TgZ(8,"ion-content",4)(9,"ion-refresher",5),e.NdJ("ionRefresh",function(a){return i.handleRefresh(a)}),e._UZ(10,"ion-refresher-content"),e.qZA(),e.TgZ(11,"ion-grid",6)(12,"ion-row")(13,"ion-col",7)(14,"ion-card"),e._UZ(15,"ion-img",8),e.qZA()(),e.TgZ(16,"ion-col",9)(17,"ion-row")(18,"ion-col",10)(19,"ion-item",11),e._UZ(20,"ion-input",12),e.qZA()(),e.TgZ(21,"ion-col",10)(22,"ion-item",11),e._UZ(23,"ion-textarea",13),e.qZA()(),e.TgZ(24,"ion-col",10)(25,"ion-list"),e.YNc(26,v,6,3,"ion-item",14),e.qZA()()()()(),e.TgZ(27,"ion-col",10)(28,"ion-title"),e._uU(29,"Productos"),e.qZA(),e.TgZ(30,"ion-row"),e.YNc(31,C,3,1,"ion-col",15),e.qZA()()(),e.TgZ(32,"ion-fab",16)(33,"ion-fab-button",17),e.NdJ("click",function(){return i.addProduct()}),e._UZ(34,"ion-icon",18),e.qZA()()()),2&t&&(e.Q6J("translucent",!0),e.xp6(7),e.Oqu(i.business.name),e.xp6(1),e.Q6J("fullscreen",!0),e.xp6(7),e.Q6J("src",i.business.image),e.xp6(5),e.Q6J("value",i.business.name),e.xp6(3),e.Q6J("value",i.business.address),e.xp6(3),e.Q6J("ngForOf",i.business.social),e.xp6(5),e.Q6J("ngForOf",i.business.products),e.xp6(3),e.Q6J("name","add"))},dependencies:[f.sg,o.YG,o.Sm,o.PM,o.wI,o.W2,o.IJ,o.W4,o.jY,o.Gu,o.gu,o.Xz,o.pK,o.Ie,o.Q$,o.q_,o.nJ,o.Wo,o.Nd,o.g2,o.wd,o.sr,o.j9],styles:[".profile-header[_ngcontent-%COMP%]{text-align:center;margin-top:20px}.profile-header[_ngcontent-%COMP%]   .profile-picture[_ngcontent-%COMP%]{width:150px;height:150px;border-radius:50%;margin-bottom:10px}.profile-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem}ion-list[_ngcontent-%COMP%]{margin-top:20px}.profile-card[_ngcontent-%COMP%]{--background: none;background-color:#0ff;text-align:center}.profile-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;height:auto}ion-card[_ngcontent-%COMP%]{position:relative}ion-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:transform .3s ease;cursor:pointer}.card-overlay[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#00000080;color:#fff;padding:10px;text-align:center;border-radius:5px}.card-overlay[_ngcontent-%COMP%]:hover{display:inline}"]}),s})()}];let T=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.Bz.forChild(A),m.Bz]}),s})(),M=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[f.ez,l.u5,o.Pc,T]}),s})()}}]);